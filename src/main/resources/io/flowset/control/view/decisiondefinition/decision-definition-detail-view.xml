<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--
  ~ Copyright (c) Haulmont 2026. All Rights Reserved.
  ~ Use is subject to license terms.
  -->

<view xmlns="http://jmix.io/schema/flowui/view">
    <data>
        <instance id="decisionDefinitionDc"
                  class="io.flowset.control.entity.decisiondefinition.DecisionDefinitionData">
            <loader id="decisionDefinitionDl" readOnly="true"/>
        </instance>
        <instance id="decisionInstanceFilterDc" class="io.flowset.control.entity.filter.DecisionInstanceFilter"/>
    </data>
    <actions>
        <action id="closeAction" type="view_close" text="msg:///actions.Close"/>
    </actions>
    <layout spacing="false" padding="false" expand="box" height="100%">
        <hbox id="box" width="100%" spacing="false" classNames="overflow-hidden">
            <split id="rootBox" orientation="VERTICAL" splitterPosition="65" themeNames="splitter-spacing" width="100%"
                   height="100%">
                <vbox width="100%" height="100%" themeNames="spacing-s" padding="false" classNames="pt-s pb-s relative">
                    <hbox padding="false" themeNames="spacing-l" width="100%" alignItems="CENTER"
                          classNames="pl-s pr-s">
                        <comboBox id="versionComboBox" required="true" width="8em" label="msg://io.flowset.control.entity.decisiondefinition/DecisionDefinitionData.version"
                                  classNames="pt-0"/>
                        <textField id="versionTagField" property="versionTag" dataContainer="decisionDefinitionDc" readOnly="true" label="msg://io.flowset.control.entity.decisiondefinition/DecisionDefinitionData.versionTag"
                                   classNames="pt-0"/>
                    </hbox>
                    <hbox id="diagramBox" height="100%" classNames="decision-details-diagram-box" width="100%">
                        <fragment id="viewerFragment" class="io.flowset.uikit.fragment.dmnviewer.DmnViewerFragment"/>
                    </hbox>
                </vbox>
                <div classNames="p-s">
                    <tabSheet id="tabSheet" width="100%" height="100%" themeNames="ide-scroll-buttons bordered" classNames="box-border flex-grow">
                        <tab id="decisionInstancesTab" label="msg://decisionInstancesTab.label">
                            <fragment class="io.flowset.control.view.decisioninstance.DecisionInstancesFragment"
                                      id="decisionInstancesFragment"/>
                        </tab>
                        <tab id="dmnXmlTab" label="msg://tab.xml" enabled="true">
                            <codeEditor id="dmnXmlEditor" mode="XML" readOnly="true" width="100%" height="100%" css="padding:0"/>
                        </tab>
                    </tabSheet>
                </div>
            </split>
            <fragment id="generalPanel" class="io.flowset.control.view.decisiondefinition.detail.GeneralPanelFragment"/>
        </hbox>

        <hbox id="detailActions" classNames="pl-s pr-s">
            <button id="closeButton" action="closeAction"/>
        </hbox>
    </layout>
</view>
