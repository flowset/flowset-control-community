<!--
  ~ Copyright (c) Haulmont 2026. All Rights Reserved.
  ~ Use is subject to license terms.
  -->

<fragment xmlns="http://jmix.io/schema/flowui/fragment">
    <data>
        <instance id="decisionDefinitionDc"
                  class="io.flowset.control.entity.decisiondefinition.DecisionDefinitionData" provided="true"/>
        <collection id="decisionInstancesDc"
                    class="io.flowset.control.entity.decisioninstance.HistoricDecisionInstanceShortData">
            <loader id="decisionInstancesDl" readOnly="true"/>
        </collection>
        <instance id="decisionInstanceFilterDc" class="io.flowset.control.entity.filter.DecisionInstanceFilter"/>
    </data>
    <content>
        <vbox height="100%" themeNames="spacing-xs">
            <vbox id="decisionInstanceVBox" width="100%" themeNames="spacing-xs" padding="false" >
                <hbox padding="false" id="decisionInstancesButtons" classNames="buttons-panel" alignItems="BASELINE">
                    <button id="refreshDecisionInstanceBtn" action="decisionInstancesGrid.refresh"
                            themeNames="small success primary"/>
                    <simplePagination id="decisionInstancesPagination" dataLoader="decisionInstancesDl"/>
                </hbox>
            </vbox>
            <dataGrid id="decisionInstancesGrid" dataContainer="decisionInstancesDc" width="100%"
                      minHeight="20em" minWidth="30em" height="100%">
                <actions>
                    <action id="edit" type="list_edit" text="msg://viewDecisionInstance" icon="EYE"/>
                    <action id="refresh" type="list_refresh"/>
                </actions>
                <columns resizable="true">
                    <column property="decisionInstanceId">
                        <fragmentRenderer
                                class="io.flowset.control.view.decisioninstance.column.DecisionInstanceIdColumnFragment"/>
                    </column>
                    <column property="evaluationTime"/>
                    <column property="processDefinitionId"/>
                    <column property="processInstanceId">
                        <fragmentRenderer
                                class="io.flowset.control.view.decisioninstance.column.DecisionInstanceProcessInstanceColumnFragment"/>
                    </column>
                    <column property="activityId"/>
                </columns>
            </dataGrid>
        </vbox>
    </content>
</fragment>